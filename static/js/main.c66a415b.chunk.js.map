{"version":3,"sources":["components/App.module.css","components/searchbar/button/Button.module.css","components/imageGallery/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/searchbar/button/Button.jsx","components/searchbar/Searchbar.jsx","components/imageGallery/imageGalleryItem/ImageGalleryItem.jsx","components/imageGallery/ImageGallery.jsx","components/servises/searchApi.js","components/modal/Modal.jsx","components/App.jsx","index.js","components/searchbar/Searchbar.module.css"],"names":["module","exports","Button","type","className","style","searchFormButton","searchFormButtonLabel","Searchbar","state","query","onHandleChange","event","setState","target","value","onInputSubmit","preventDefault","props","onSubmit","searchbar","searchForm","this","searchFormInput","autoComplete","autoFocus","placeholder","name","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","bigImage","imageGalleryItem","src","alt","imageGalleryItemImage","data-lgimg","data-tag","onClick","ImageGallery","pictures","imageGallery","map","picture","key","id","searchApi","page","axios","get","then","data","hits","modalRoot","document","querySelector","Modal","handleKeyDown","code","showModal","handleOnClick","currentTarget","window","addEventListener","removeEventListener","createPortal","overlay","children","App","largeImage","error","imgTags","isLoading","toggleModal","dataset","lgimg","tag","searchImages","prevState","catch","console","log","finally","_","scrollTo","top","documentElement","scrollHeight","behavior","mainContainer","button","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c66a415b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"App_button__3629l\",\"mainContainer\":\"App_mainContainer__13Na8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchFormButton\":\"Button_searchFormButton__2Z066\",\"searchFormButtonLabel\":\"Button_searchFormButtonLabel__1HdEl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__AsOOp\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2Hvhy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1uPCM\",\"modal\":\"Modal_modal__lJY8d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1uRrL\"};","import React from 'react';\r\nimport style from './Button.module.css';\r\n\r\nconst Button = () => {\r\n  return (\r\n    <button type=\"submit\" className={style.searchFormButton}>\r\n      <span className={style.searchFormButtonLabel}>Search</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport Button from './button/Button';\r\nimport style from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  onHandleChange = event => {\r\n    this.setState({ query: event.target.value });\r\n  };\r\n\r\n  onInputSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={style.searchbar}>\r\n        <form className={style.searchForm} onSubmit={this.onInputSubmit}>\r\n          <Button />\r\n\r\n          <input\r\n            className={style.searchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"input\"\r\n            onChange={this.onHandleChange}\r\n            value={this.state.query}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport style from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, tags, bigImage }) => {\r\n  return (\r\n    <li className={style.imageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={style.imageGalleryItemImage}\r\n        data-lgimg={largeImageURL}\r\n        data-tag={tags}\r\n        onClick={bigImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from './imageGalleryItem/ImageGalleryItem';\r\nimport style from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ pictures, bigImage }) => {\r\n  return (\r\n    <ul className={style.imageGallery}>\r\n      {pictures.map(picture => (\r\n        <ImageGalleryItem {...picture} key={picture.id} bigImage={bigImage} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import axios from 'axios';\r\n\r\nconst key = '20176699-556ee3aada6e9037c58dacf6e';\r\n\r\nconst searchApi = ({ query = '', page = 1 }) => {\r\n    return axios\r\n        .get(\r\n            `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\r\n        )\r\n        .then(({ data }) => data.hits);\r\n};\r\n\r\nexport default searchApi;","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport style from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n\r\n  handleOnClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={style.overlay} onClick={this.handleOnClick}>\r\n        <div className={style.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport style from './App.module.css';\nimport Searchbar from './searchbar/Searchbar';\nimport ImageGallery from './imageGallery/ImageGallery';\nimport searchApi from './servises/searchApi';\nimport Modal from './modal/Modal';\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    page: 1,\n    query: '',\n    largeImage: null,\n    error: null,\n    showModal: false,\n    imgTags: null,\n    isLoading: false,\n  };\n\n  componentDidUpdate(_, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.searchImages();\n    }\n    if (this.state.page !== 1 && prevState.page !== this.state.page) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  bigImage = ({ target }) => {\n    const { lgimg, tag } = target.dataset;\n    this.setState({\n      largeImage: lgimg,\n      imgTags: tag,\n    });\n    this.toggleModal();\n  };\n\n  searchImages = () => {\n    const { page, query } = this.state;\n    this.setState({ isLoading: true });\n    searchApi({ page, query })\n      .then(pictures => {\n        this.setState(prevState => ({\n          pictures: [...prevState.pictures, ...pictures],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => console.log(error))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onSubmit = query => {\n    this.setState({ query, page: 1, pictures: [] });\n  };\n\n  render() {\n    const { showModal, largeImage, imgTags, isLoading } = this.state;\n    return (\n      <div className={style.mainContainer}>\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery pictures={this.state.pictures} bigImage={this.bigImage} />\n\n        {isLoading ? (\n          <h1>Downloading...</h1>\n        ) : (\n          this.state.page !== 1 && (\n            <button className={style.button} onClick={this.searchImages}>\n              Load more\n            </button>\n          )\n        )}\n\n        {showModal && (\n          <Modal showModal={this.toggleModal}>\n            <img src={largeImage} alt={imgTags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport App from './components/App';\n\nReactDOM.render( <\n    React.StrictMode >\n    <\n    App / >\n    <\n    /React.StrictMode>,\n    document.getElementById('root'),\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__395Yl\",\"searchForm\":\"Searchbar_searchForm__2NGSH\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3vtd4\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__3_SP-\",\"searchFormInput\":\"Searchbar_searchFormInput__2le3h\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3nB4i\"};"],"sourceRoot":""}